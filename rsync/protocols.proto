syntax = "proto3";

package example;

service RsyncService {
 rpc RsyncMethod (ClientRequest) returns (ServerResponse) {};
}

message ClientRequest {
 string directoryName = 1;  
 float timestamp = 2; 
 repeated ClientHash clientHashes = 3;  
};

message ClientHash {
 string filename = 1;
 repeated int32 simpleBlockHashes = 2;
 repeated bytes complicatedBlockHashes = 3;
}


message ServerResponse {
 repeated File files = 1;
 float timestamp = 2;
};

message File {
 string filename = 1;
 bool isDirectory = 2;
 bytes fileContent = 3;
}

